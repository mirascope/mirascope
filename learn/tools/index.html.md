---
search:
  boost: 2 
---

# Tools


!!! mira ""

    <div align="center">
        If you haven't already, we recommend first reading the section on [Calls](./calls.md)
    </div>

Tools are user-defined functions that an LLM (Large Language Model) can ask the user to invoke on its behalf. This greatly enhances the capabilities of LLMs by enabling them to perform specific tasks, access external data, interact with other systems, and more.

Mirascope enables defining tools in a provider-agnostic way, which can be used across all supported LLM providers without modification.

??? info "Diagram illustrating how tools are called"

    When an LLM decides to use a tool, it indicates the tool name and argument values in its response. It's important to note that the LLM doesn't actually execute the function; instead, you are responsible for calling the tool and (optionally) providing the output back to the LLM in a subsequent interaction. For more details on such iterative tool-use flows, check out the [Tool Message Parameters](#tool-message-parameters) section below as well as the section on [Agents](./agents.md).

    ```mermaid
    sequenceDiagram
        participant YC as Your Code
        participant LLM

        YC->>LLM: Call with prompt and function definitions
        loop Tool Calls
            LLM->>LLM: Decide to respond or call functions
            LLM->>YC: Respond with function to call and arguments
            YC->>YC: Execute function with given arguments
            YC->>LLM: Call with prompt and function result
        end
        LLM->>YC: Final response
    ```

## Basic Usage and Syntax

??? api "API Documentation"

    [`mirascope.core.base.tool`](../api/core/base/tool.md)
    [`mirascope.core.openai.tool`](../api/core/openai/tool.md)
    [`mirascope.core.anthropic.tool`](../api/core/anthropic/tool.md)
    [`mirascope.core.mistral.tool`](../api/core/mistral/tool.md)
    [`mirascope.core.gemini.tool`](../api/core/gemini/tool.md)
    [`mirascope.core.groq.tool`](../api/core/groq/tool.md)
    [`mirascope.core.cohere.tool`](../api/core/cohere/tool.md)
    [`mirascope.core.litellm.tool`](../api/core/openai/tool.md)
    [`mirascope.core.azure.tool`](../api/core/azure/tool.md)
    [`mirascope.core.vertex.tool`](../api/core/vertex/tool.md)
    [`mirascope.core.bedrock.tool`](../api/core/bedrock/tool.md)

There are two ways of defining tools in Mirascope: [`BaseTool`](../api/core/base/tool.md) and functions.

You can consider the functional definitions a shorthand form of writing the `BaseTool` version of the same tool. Under the hood, tools defined as functions will get converted automatically into their corresponding `BaseTool`.

Let's take a look at a basic example of each using Mirascope vs. official provider SDKs:

!!! mira "Mirascope"

    === "BaseTool"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, openai
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, anthropic
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, mistral
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, gemini
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, groq
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, cohere
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, litellm
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, azure
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, bedrock
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, Messages, openai
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, Messages, anthropic
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, Messages, mistral
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, Messages, gemini
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, Messages, groq
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, Messages, cohere
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, Messages, litellm
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, Messages, azure
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, Messages, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, Messages, bedrock
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, openai, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, anthropic, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, mistral, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, gemini, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, groq, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, cohere, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, litellm, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, azure, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, prompt_template, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseTool, bedrock, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, openai
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, anthropic
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, mistral
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, gemini
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, groq
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, cohere
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, litellm
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, azure
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="5-16 19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, bedrock
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```


    === "Function"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import Messages, openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import Messages, anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import Messages, mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import Messages, gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import Messages, groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import Messages, cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import Messages, litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import Messages, azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import Messages, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import Messages, bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import openai, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import anthropic, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import mistral, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import gemini, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import groq, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import cohere, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import litellm, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import azure, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import prompt_template, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import bedrock, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import BaseMessageParam, openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import BaseMessageParam, anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import BaseMessageParam, mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import BaseMessageParam, gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import BaseMessageParam, groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import BaseMessageParam, cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import BaseMessageParam, litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import BaseMessageParam, azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import BaseMessageParam, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="4-15 18 24-26"
                    from mirascope.core import BaseMessageParam, bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        # Output: Patrick Rothfuss
                    else:
                        print(response.content)
                ```



??? note "Official SDK"

    === "OpenAI"

        ```python hl_lines="8-14 21-34 36-38"
            import json

            from openai import OpenAI

            client = OpenAI()


            def get_book_author(title: str) -> str:
                if title == "The Name of the Wind":
                    return "Patrick Rothfuss"
                elif title == "Mistborn: The Final Empire":
                    return "Brandon Sanderson"
                else:
                    return "Unknown"


            def identify_author(book: str) -> str:
                completion = client.chat.completions.create(
                    model="gpt-4o-mini",
                    messages=[{"role": "user", "content": f"Who wrote {book}"}],
                    tools=[
                        {
                            "function": {
                                "name": "get_book_author",
                                "description": "Returns the author of the book with the given title.",
                                "parameters": {
                                    "properties": {"title": {"type": "string"}},
                                    "required": ["title"],
                                    "type": "object",
                                },
                            },
                            "type": "function",
                        }
                    ],
                )
                if tool_calls := completion.choices[0].message.tool_calls:
                    if tool_calls[0].function.name == "get_book_author":
                        return get_book_author(**json.loads(tool_calls[0].function.arguments))
                return str(completion.choices[0].message.content)


            author = identify_author("The Name of the Wind")
            print(author)
        ```

    === "Anthropic"

        ```python hl_lines="6-12 20-30 33-36"
            from anthropic import Anthropic

            client = Anthropic()


            def get_book_author(title: str) -> str:
                if title == "The Name of the Wind":
                    return "Patrick Rothfuss"
                elif title == "Mistborn: The Final Empire":
                    return "Brandon Sanderson"
                else:
                    return "Unknown"


            def identify_author(book: str) -> str:
                message = client.messages.create(
                    model="claude-3-5-sonnet-20240620",
                    max_tokens=1024,
                    messages=[{"role": "user", "content": f"Who wrote {book}?"}],
                    tools=[
                        {
                            "name": "get_book_author",
                            "description": "Returns the author of the book with the given title.",
                            "input_schema": {
                                "properties": {"title": {"type": "string"}},
                                "required": ["title"],
                                "type": "object",
                            },
                        }
                    ],
                )
                content = ""
                for block in message.content:
                    if block.type == "tool_use":
                        if block.name == "get_book_author":
                            return get_book_author(**block.input)  # pyright: ignore [reportCallIssue]
                    else:
                        content += block.text
                return content


            author = identify_author("The Name of the Wind")
            print(author)
        ```

    === "Mistral"

        ```python hl_lines="10-16 23-36 38-44"
            import json
            import os
            from typing import cast

            from mistralai import Mistral

            client = Mistral(api_key=os.environ["MISTRAL_API_KEY"])


            def get_book_author(title: str) -> str:
                if title == "The Name of the Wind":
                    return "Patrick Rothfuss"
                elif title == "Mistborn: The Final Empire":
                    return "Brandon Sanderson"
                else:
                    return "Unknown"


            def identify_author(book: str) -> str | None:
                completion = client.chat.complete(
                    model="mistral-large-latest",
                    messages=[{"role": "user", "content": f"Who wrote {book}?"}],
                    tools=[
                        {
                            "function": {
                                "name": "get_book_author",
                                "description": "Returns the author of the book with the given title.",
                                "parameters": {
                                    "properties": {"title": {"type": "string"}},
                                    "required": ["title"],
                                    "type": "object",
                                },
                            },
                            "type": "function",
                        }
                    ],
                )
                if not completion or not completion.choices:
                    return None
                if tool_calls := completion.choices[0].message.tool_calls:
                    if tool_calls[0].function.name == "get_book_author":
                        return get_book_author(
                            **json.loads(cast(str, tool_calls[0].function.arguments))
                        )
                return cast(str, completion.choices[0].message.content)


            author = identify_author("The Name of the Wind")
            print(author)
        ```

    === "Gemini"

        ```python hl_lines="7-13 19-35 37-41"
            from google.generativeai import GenerativeModel
            from google.generativeai.types import FunctionDeclaration, Tool

            model = GenerativeModel("gemini-1.5-flash")


            def get_book_author(title: str) -> str:
                if title == "The Name of the Wind":
                    return "Patrick Rothfuss"
                elif title == "Mistborn: The Final Empire":
                    return "Brandon Sanderson"
                else:
                    return "Unknown"


            def identify_author(book: str) -> str:
                response = model.generate_content(
                    f"Who wrote {book}?",
                    tools=[
                        Tool(
                            function_declarations=[
                                FunctionDeclaration(
                                    **{
                                        "name": "get_book_author",
                                        "description": "Returns the author of the book with the given title.",
                                        "parameters": {
                                            "properties": {"title": {"type": "string"}},
                                            "required": ["title"],
                                            "type": "object",
                                        },
                                    }
                                )
                            ]
                        )
                    ],
                )
                if tool_calls := [
                    part.function_call for part in response.parts if part.function_call.args
                ]:
                    if tool_calls[0].name == "get_book_author":
                        return get_book_author(**dict(tool_calls[0].args.items()))  # pyright: ignore [reportArgumentType]
                return response.text


            author = identify_author("The Name of the Wind")
            print(author)
        ```

    === "Groq"

        ```python hl_lines="8-14 21-34 36-38"
            import json

            from groq import Groq

            client = Groq()


            def get_book_author(title: str) -> str:
                if title == "The Name of the Wind":
                    return "Patrick Rothfuss"
                elif title == "Mistborn: The Final Empire":
                    return "Brandon Sanderson"
                else:
                    return "Unknown"


            def identify_author(book: str) -> str:
                completion = client.chat.completions.create(
                    model="llama-3.1-70b-versatile",
                    messages=[{"role": "user", "content": f"Who wrote {book}?"}],
                    tools=[
                        {
                            "function": {
                                "name": "get_book_author",
                                "description": "Returns the author of the book with the given title.",
                                "parameters": {
                                    "properties": {"title": {"type": "string"}},
                                    "required": ["title"],
                                    "type": "object",
                                },
                            },
                            "type": "function",
                        }
                    ],
                )
                if tool_calls := completion.choices[0].message.tool_calls:
                    if tool_calls[0].function.name == "get_book_author":
                        return get_book_author(**json.loads(tool_calls[0].function.arguments))
                return str(completion.choices[0].message.content)


            author = identify_author("The Name of the Wind")
            print(author)
        ```

    === "Cohere"

        ```python hl_lines="7-13 20-30 32-34"
            from typing import cast

            from cohere import Client
            from cohere.types import Tool, ToolParameterDefinitionsValue

            client = Client()


            def get_book_author(title: str) -> str:
                if title == "The Name of the Wind":
                    return "Patrick Rothfuss"
                elif title == "Mistborn: The Final Empire":
                    return "Brandon Sanderson"
                else:
                    return "Unknown"


            def identify_author(book: str) -> str:
                response = client.chat(
                    model="command-r-plus",
                    message=f"Who wrote {book}?",
                    tools=[
                        Tool(
                            name="get_book_author",
                            description="Returns the author of the book with the given title.",
                            parameter_definitions={
                                "title": ToolParameterDefinitionsValue(
                                    description=None, type="string", required=True
                                )
                            },
                        )
                    ],
                )
                if tool_calls := response.tool_calls:
                    if tool_calls[0].name == "get_book_author":
                        return get_book_author(**(cast(dict[str, str], tool_calls[0].parameters)))
                return response.text


            author = identify_author("The Name of the Wind")
            print(author)
        ```

    === "LiteLLM"

        ```python hl_lines="6-12 19-32 34-36"
            import json

            from litellm import completion


            def get_book_author(title: str) -> str:
                if title == "The Name of the Wind":
                    return "Patrick Rothfuss"
                elif title == "Mistborn: The Final Empire":
                    return "Brandon Sanderson"
                else:
                    return "Unknown"


            def identify_author(book: str) -> str:
                response = completion(
                    model="gpt-4o-mini",
                    messages=[{"role": "user", "content": f"Who wrote {book}"}],
                    tools=[
                        {
                            "function": {
                                "name": "get_book_author",
                                "description": "Returns the author of the book with the given title.",
                                "parameters": {
                                    "properties": {"title": {"type": "string"}},
                                    "required": ["title"],
                                    "type": "object",
                                },
                            },
                            "type": "function",
                        }
                    ],
                )
                if tool_calls := response.choices[0].message.tool_calls:  # pyright: ignore [reportAttributeAccessIssue]
                    if tool_calls[0].function.name == "get_book_author":
                        return get_book_author(**json.loads(tool_calls[0].function.arguments))
                return str(response.choices[0].message.content)  # pyright: ignore [reportAttributeAccessIssue]


            author = identify_author("The Name of the Wind")
            print(author)
        ```

    === "Azure AI"

        ```python hl_lines="16-22 31-43 45-47"
            import json

            from azure.ai.inference import ChatCompletionsClient
            from azure.ai.inference.models import (
                ChatCompletionsToolDefinition,
                ChatRequestMessage,
                FunctionDefinition,
            )
            from azure.core.credentials import AzureKeyCredential

            client = ChatCompletionsClient(
                endpoint="YOUR_ENDPOINT", credential=AzureKeyCredential("YOUR_KEY")
            )


            def get_book_author(title: str) -> str:
                if title == "The Name of the Wind":
                    return "Patrick Rothfuss"
                elif title == "Mistborn: The Final Empire":
                    return "Brandon Sanderson"
                else:
                    return "Unknown"


            def identify_author(book: str) -> str:
                completion = client.complete(
                    model="gpt-4o-mini",
                    messages=[
                        ChatRequestMessage({"role": "user", "content": f"Who wrote {book}?"})
                    ],
                    tools=[
                        ChatCompletionsToolDefinition(
                            function=FunctionDefinition(
                                name="get_book_author",
                                description="Returns the author of the book with the given title.",
                                parameters={
                                    "properties": {"title": {"type": "string"}},
                                    "required": ["title"],
                                    "type": "object",
                                },
                            )
                        )
                    ],
                )
                if tool_calls := completion.choices[0].message.tool_calls:
                    if tool_calls[0].function.name == "get_book_author":
                        return get_book_author(**json.loads(tool_calls[0].function.arguments))
                return str(completion.choices[0].message.content)


            author = identify_author("The Name of the Wind")
            print(author)
        ```

    === "Vertex AI"

        ```python hl_lines="6-12 18-34 36-43"
            from vertexai.generative_models import FunctionDeclaration, GenerativeModel, Tool

            model = GenerativeModel("gemini-1.5-flash")


            def get_book_author(title: str) -> str:
                if title == "The Name of the Wind":
                    return "Patrick Rothfuss"
                elif title == "Mistborn: The Final Empire":
                    return "Brandon Sanderson"
                else:
                    return "Unknown"


            def identify_author(book: str) -> str:
                response = model.generate_content(
                    f"Who wrote {book}?",
                    tools=[
                        Tool(
                            function_declarations=[
                                FunctionDeclaration(
                                    **{
                                        "name": "get_book_author",
                                        "description": "Returns the author of the book with the given title.",
                                        "parameters": {
                                            "properties": {"title": {"type": "string"}},
                                            "required": ["title"],
                                            "type": "object",
                                        },
                                    }
                                )
                            ]
                        )
                    ],
                )
                if tool_calls := [
                    part.function_call
                    for candidate in response.candidates  # pyright: ignore [reportAttributeAccessIssue]
                    for part in candidate.content.parts
                    if part.function_call.args
                ]:
                    if tool_calls[0].name == "get_book_author":
                        return get_book_author(**dict(tool_calls[0].args.items()))  # pyright: ignore [reportArgumentType]
                return response.text  # pyright: ignore [reportAttributeAccessIssue]


            author = identify_author("The Name of the Wind")
            print(author)
        ```

    === "Bedrock"

        ```python hl_lines="8-14 21-34 36-38"
            import boto3

            bedrock_client = boto3.client(service_name="bedrock-runtime")


            def get_book_author(title: str) -> str:
                if title == "The Name of the Wind":
                    return "Patrick Rothfuss"
                elif title == "Mistborn: The Final Empire":
                    return "Brandon Sanderson"
                else:
                    return "Unknown"


            def identify_author(book: str) -> str:
                messages = [{"role": "user", "content": [{"text": f"Who wrote {book}?"}]}]
                tool_config = {
                    "tools": [
                        {
                            "toolSpec": {
                                "name": "get_book_author",
                                "description": "Returns the author of the book with the given title.",
                                "inputSchema": {
                                    "json": {
                                        "type": "object",
                                        "properties": {
                                            "title": {
                                                "type": "string",
                                                "description": "The title of the book.",
                                            }
                                        },
                                        "required": ["title"],
                                    }
                                },
                            }
                        }
                    ]
                }
                response = bedrock_client.converse(
                    modelId="anthropic.claude-3-haiku-20240307-v1:0",
                    messages=messages,
                    toolConfig=tool_config,
                )
                content = ""
                output_message = response["output"]["message"]
                messages.append(output_message)
                stop_reason = response["stopReason"]

                if stop_reason == "tool_use":
                    tool_requests = output_message["content"]
                    for tool_request in tool_requests:
                        if "toolUse" in tool_request:
                            tool = tool_request["toolUse"]
                            if tool["name"] == "get_book_author":
                                return get_book_author(**tool["input"])
                for content_piece in output_message["content"]:
                    if "text" in content_piece:
                        content += content_piece["text"]
                return content


            author = identify_author("The Name of the Wind")
            print(author)
        ```


In this example we:

1. Define the `GetBookAuthor`/`get_book_author` tool (a dummy method for the example)
2. Set the `tools` argument in the `call` decorator to give the LLM access to the tool.
3. We call `identify_author`, which automatically generates the corresponding provider-specific tool schema under the hood.
4. Check if the response from `identify_author` contains a tool, which is the `BaseTool` instance constructed from the underlying tool call
    - If yes, we call the constructed tool's `call` method and print its output. This calls the tool with the arguments provided by the LLM.
    - If no, we print the content of the response (assuming no tool was called).

The core idea to understand here is that the LLM is asking us to call the tool on its behalf with arguments that it has provided. In the above example, the LLM chooses to call the tool to get the author rather than relying on its world knowledge.

This is particularly important for buildling applications with access to live information and external systems.

For the purposes of this example we are showing just a single tool call. Generally, you would then give the tool call's output back to the LLM and make another call so the LLM can generate a response based on the output of the tool. We cover this in more detail in the section on [Agents](./agents.md)

### Accessing Original Tool Call

All provider-specific `BaseTool` instances have a `tool_call` property for accessing the original LLM tool call.

!!! mira ""

    === "BaseTool"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, openai
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, anthropic
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, mistral
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, gemini
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, groq
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, cohere
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, litellm
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, azure
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, bedrock
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, Messages, openai
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, Messages, anthropic
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, Messages, mistral
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, Messages, gemini
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, Messages, groq
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, Messages, cohere
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, Messages, litellm
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, Messages, azure
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, Messages, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, Messages, bedrock
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, openai, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, anthropic, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, mistral, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, gemini, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, groq, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, cohere, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, litellm, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, azure, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, prompt_template, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="27"
                    from mirascope.core import BaseTool, bedrock, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="27"
                    from mirascope.core import BaseMessageParam, BaseTool, openai
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="27"
                    from mirascope.core import BaseMessageParam, BaseTool, anthropic
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="27"
                    from mirascope.core import BaseMessageParam, BaseTool, mistral
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="27"
                    from mirascope.core import BaseMessageParam, BaseTool, gemini
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="27"
                    from mirascope.core import BaseMessageParam, BaseTool, groq
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="27"
                    from mirascope.core import BaseMessageParam, BaseTool, cohere
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="27"
                    from mirascope.core import BaseMessageParam, BaseTool, litellm
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="27"
                    from mirascope.core import BaseMessageParam, BaseTool, azure
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="27"
                    from mirascope.core import BaseMessageParam, BaseTool, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="27"
                    from mirascope.core import BaseMessageParam, BaseTool, bedrock
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```

        
    === "Function"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="26"
                    from mirascope.core import openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="26"
                    from mirascope.core import anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="26"
                    from mirascope.core import mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="26"
                    from mirascope.core import gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="26"
                    from mirascope.core import groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="26"
                    from mirascope.core import cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="26"
                    from mirascope.core import litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="26"
                    from mirascope.core import azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="26"
                    from mirascope.core import vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="26"
                    from mirascope.core import bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="26"
                    from mirascope.core import Messages, openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="26"
                    from mirascope.core import Messages, anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="26"
                    from mirascope.core import Messages, mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="26"
                    from mirascope.core import Messages, gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="26"
                    from mirascope.core import Messages, groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="26"
                    from mirascope.core import Messages, cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="26"
                    from mirascope.core import Messages, litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="26"
                    from mirascope.core import Messages, azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="26"
                    from mirascope.core import Messages, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="26"
                    from mirascope.core import Messages, bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="26"
                    from mirascope.core import openai, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="26"
                    from mirascope.core import anthropic, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="26"
                    from mirascope.core import mistral, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="26"
                    from mirascope.core import gemini, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="26"
                    from mirascope.core import groq, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="26"
                    from mirascope.core import cohere, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="26"
                    from mirascope.core import litellm, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="26"
                    from mirascope.core import azure, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="26"
                    from mirascope.core import prompt_template, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="26"
                    from mirascope.core import bedrock, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="26"
                    from mirascope.core import BaseMessageParam, openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="26"
                    from mirascope.core import BaseMessageParam, anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="26"
                    from mirascope.core import BaseMessageParam, mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="26"
                    from mirascope.core import BaseMessageParam, gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="26"
                    from mirascope.core import BaseMessageParam, groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="26"
                    from mirascope.core import BaseMessageParam, cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="26"
                    from mirascope.core import BaseMessageParam, litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="26"
                    from mirascope.core import BaseMessageParam, azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="26"
                    from mirascope.core import BaseMessageParam, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="26"
                    from mirascope.core import BaseMessageParam, bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                        print(f"Original tool call: {tool.tool_call}")
                    else:
                        print(response.content)
                ```

        

!!! note "Reasoning for provider-specific `BaseTool` objects"

    The reason that we have provider-specific tools (e.g. `OpenAITool`) is to provide proper type hints and safety when accessing the original tool call.

## Supported Field Types

While Mirascope provides a consistent interface, type support varies among providers:

| Type          | Anthropic | Cohere | Gemini | Groq | Mistral | OpenAI |
|---------------|-----------|--------|--------|------|---------|--------|
| str           |          |       |       |     |        |       |
| int           |          |       |       |     |        |       |
| float         |          |       |       |     |        |       |
| bool          |          |       |       |     |        |       |
| bytes         |          |       | -      |     |        |       |
| list          |          |       |       |     |        |       |
| set           |          |       | -      |     |        |       |
| tuple         |          |       | -      |     |        | -      |
| dict          |          |       |       |     |        | -      |
| Literal/Enum  |          |       |       |     |        |       |
| BaseModel     |          | -      |       |     |        |       |
| Nested ($def) |          | -      | -      |     |        |       |

Legend:  (Supported), - (Not Supported)

Consider provider-specific capabilities when working with advanced type structures. Even for supported types, LLM outputs may sometimes be incorrect or of the wrong type. In such cases, prompt engineering or error handling (like [retries](./retries.md) and [reinserting validation errors](./retries.md#error-reinsertion)) may be necessary.

## Parallel Tool Calls

In certain cases the LLM will ask to call multiple tools in the same response. Mirascope makes calling all such tools simple:

!!! mira ""

    === "BaseTool"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, openai
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, anthropic
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, mistral
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, gemini
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, groq
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, cohere
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, litellm
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, azure
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, bedrock
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, Messages, openai
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, Messages, anthropic
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, Messages, mistral
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, Messages, gemini
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, Messages, groq
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, Messages, cohere
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, Messages, litellm
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, Messages, azure
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, Messages, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, Messages, bedrock
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, openai, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, anthropic, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, mistral, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, gemini, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, groq, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, cohere, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, litellm, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, azure, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, prompt_template, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseTool, bedrock, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseMessageParam, BaseTool, openai
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseMessageParam, BaseTool, anthropic
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseMessageParam, BaseTool, mistral
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseMessageParam, BaseTool, gemini
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseMessageParam, BaseTool, groq
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseMessageParam, BaseTool, cohere
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseMessageParam, BaseTool, litellm
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseMessageParam, BaseTool, azure
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseMessageParam, BaseTool, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="24-27"
                    from mirascope.core import BaseMessageParam, BaseTool, bedrock
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```


    === "Function"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="23-26"
                    from mirascope.core import openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="23-26"
                    from mirascope.core import anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="23-26"
                    from mirascope.core import mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="23-26"
                    from mirascope.core import gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="23-26"
                    from mirascope.core import groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="23-26"
                    from mirascope.core import cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="23-26"
                    from mirascope.core import litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="23-26"
                    from mirascope.core import azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="23-26"
                    from mirascope.core import vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="23-26"
                    from mirascope.core import bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="23-26"
                    from mirascope.core import Messages, openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="23-26"
                    from mirascope.core import Messages, anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="23-26"
                    from mirascope.core import Messages, mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="23-26"
                    from mirascope.core import Messages, gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="23-26"
                    from mirascope.core import Messages, groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="23-26"
                    from mirascope.core import Messages, cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="23-26"
                    from mirascope.core import Messages, litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="23-26"
                    from mirascope.core import Messages, azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="23-26"
                    from mirascope.core import Messages, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="23-26"
                    from mirascope.core import Messages, bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="23-26"
                    from mirascope.core import openai, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="23-26"
                    from mirascope.core import anthropic, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="23-26"
                    from mirascope.core import mistral, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="23-26"
                    from mirascope.core import gemini, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="23-26"
                    from mirascope.core import groq, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="23-26"
                    from mirascope.core import cohere, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="23-26"
                    from mirascope.core import litellm, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="23-26"
                    from mirascope.core import azure, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="23-26"
                    from mirascope.core import prompt_template, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="23-26"
                    from mirascope.core import bedrock, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    @prompt_template("Who wrote {books}?")
                    def identify_authors(books: list[str]): ...


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="23-26"
                    from mirascope.core import BaseMessageParam, openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="23-26"
                    from mirascope.core import BaseMessageParam, anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="23-26"
                    from mirascope.core import BaseMessageParam, mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="23-26"
                    from mirascope.core import BaseMessageParam, gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="23-26"
                    from mirascope.core import BaseMessageParam, groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="23-26"
                    from mirascope.core import BaseMessageParam, cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="23-26"
                    from mirascope.core import BaseMessageParam, litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="23-26"
                    from mirascope.core import BaseMessageParam, azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="23-26"
                    from mirascope.core import BaseMessageParam, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="23-26"
                    from mirascope.core import BaseMessageParam, bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    response = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    if tools := response.tools:
                        for tool in tools:
                            print(tool.call())
                    else:
                        print(response.content)
                ```



If your tool calls are I/O-bound, it's often worth writing [async tools](./async.md#async-tools) so that you can run all of the tools calls [in parallel](./async.md#parallel-async-calls) for better efficiency.

## Streaming Tools

Mirascope supports streaming responses with tools, which is useful for long-running tasks or real-time updates:

!!! mira ""

    === "BaseTool"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, openai
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Anthropic"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, anthropic
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Mistral"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, mistral
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Gemini"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, gemini
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Groq"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, groq
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Cohere"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, cohere
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "LiteLLM"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, litellm
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Azure AI"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, azure
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Vertex AI"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Bedrock"

                ```python hl_lines="20 27-29"
                    from mirascope.core import BaseTool, bedrock
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call(
                        "anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor], stream=True
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, Messages, openai
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Anthropic"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, Messages, anthropic
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Mistral"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, Messages, mistral
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Gemini"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, Messages, gemini
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Groq"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, Messages, groq
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Cohere"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, Messages, cohere
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "LiteLLM"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, Messages, litellm
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Azure AI"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, Messages, azure
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Vertex AI"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, Messages, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Bedrock"

                ```python hl_lines="20 27-29"
                    from mirascope.core import BaseTool, Messages, bedrock
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call(
                        "anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor], stream=True
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, openai, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Anthropic"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, anthropic, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Mistral"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, mistral, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Gemini"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, gemini, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Groq"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, groq, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Cohere"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, cohere, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "LiteLLM"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, litellm, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Azure AI"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, azure, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Vertex AI"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseTool, prompt_template, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Bedrock"

                ```python hl_lines="20 27-29"
                    from mirascope.core import BaseTool, bedrock, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call(
                        "anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor], stream=True
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, openai
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Anthropic"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, anthropic
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Mistral"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, mistral
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Gemini"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, gemini
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Groq"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, groq
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Cohere"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, cohere
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "LiteLLM"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, litellm
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Azure AI"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, azure
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Vertex AI"

                ```python hl_lines="19 25-27"
                    from mirascope.core import BaseMessageParam, BaseTool, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Bedrock"

                ```python hl_lines="20 27-29"
                    from mirascope.core import BaseMessageParam, BaseTool, bedrock
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call(
                        "anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor], stream=True
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```


    === "Function"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="18 24-26"
                    from mirascope.core import openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Anthropic"

                ```python hl_lines="18 24-26"
                    from mirascope.core import anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Mistral"

                ```python hl_lines="18 24-26"
                    from mirascope.core import mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Gemini"

                ```python hl_lines="18 24-26"
                    from mirascope.core import gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Groq"

                ```python hl_lines="18 24-26"
                    from mirascope.core import groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Cohere"

                ```python hl_lines="18 24-26"
                    from mirascope.core import cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "LiteLLM"

                ```python hl_lines="18 24-26"
                    from mirascope.core import litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Azure AI"

                ```python hl_lines="18 24-26"
                    from mirascope.core import azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Vertex AI"

                ```python hl_lines="18 24-26"
                    from mirascope.core import vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Bedrock"

                ```python hl_lines="19 26-28"
                    from mirascope.core import bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call(
                        "anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author], stream=True
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="18 24-26"
                    from mirascope.core import Messages, openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Anthropic"

                ```python hl_lines="18 24-26"
                    from mirascope.core import Messages, anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Mistral"

                ```python hl_lines="18 24-26"
                    from mirascope.core import Messages, mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Gemini"

                ```python hl_lines="18 24-26"
                    from mirascope.core import Messages, gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Groq"

                ```python hl_lines="18 24-26"
                    from mirascope.core import Messages, groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Cohere"

                ```python hl_lines="18 24-26"
                    from mirascope.core import Messages, cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "LiteLLM"

                ```python hl_lines="18 24-26"
                    from mirascope.core import Messages, litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Azure AI"

                ```python hl_lines="18 24-26"
                    from mirascope.core import Messages, azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Vertex AI"

                ```python hl_lines="18 24-26"
                    from mirascope.core import Messages, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Bedrock"

                ```python hl_lines="19 26-28"
                    from mirascope.core import Messages, bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call(
                        "anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author], stream=True
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="18 24-26"
                    from mirascope.core import openai, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Anthropic"

                ```python hl_lines="18 24-26"
                    from mirascope.core import anthropic, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Mistral"

                ```python hl_lines="18 24-26"
                    from mirascope.core import mistral, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Gemini"

                ```python hl_lines="18 24-26"
                    from mirascope.core import gemini, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Groq"

                ```python hl_lines="18 24-26"
                    from mirascope.core import groq, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Cohere"

                ```python hl_lines="18 24-26"
                    from mirascope.core import cohere, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "LiteLLM"

                ```python hl_lines="18 24-26"
                    from mirascope.core import litellm, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Azure AI"

                ```python hl_lines="18 24-26"
                    from mirascope.core import azure, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Vertex AI"

                ```python hl_lines="18 24-26"
                    from mirascope.core import prompt_template, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author], stream=True)
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Bedrock"

                ```python hl_lines="19 26-28"
                    from mirascope.core import bedrock, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call(
                        "anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author], stream=True
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="18 24-26"
                    from mirascope.core import BaseMessageParam, openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Anthropic"

                ```python hl_lines="18 24-26"
                    from mirascope.core import BaseMessageParam, anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Mistral"

                ```python hl_lines="18 24-26"
                    from mirascope.core import BaseMessageParam, mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Gemini"

                ```python hl_lines="18 24-26"
                    from mirascope.core import BaseMessageParam, gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Groq"

                ```python hl_lines="18 24-26"
                    from mirascope.core import BaseMessageParam, groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Cohere"

                ```python hl_lines="18 24-26"
                    from mirascope.core import BaseMessageParam, cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "LiteLLM"

                ```python hl_lines="18 24-26"
                    from mirascope.core import BaseMessageParam, litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Azure AI"

                ```python hl_lines="18 24-26"
                    from mirascope.core import BaseMessageParam, azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Vertex AI"

                ```python hl_lines="18 24-26"
                    from mirascope.core import BaseMessageParam, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author], stream=True)
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Bedrock"

                ```python hl_lines="19 26-28"
                    from mirascope.core import BaseMessageParam, bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call(
                        "anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author], stream=True
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```



!!! note "When are tools returned?"

    When we identify that a tool is being streamed, we will internally reconstruct the tool from the streamed response. This means that the tool won't be returned until the full tool has been streamed and reconstructed on your behalf.

!!! warning "Not all providers support streaming tools"

    Currently only OpenAI, Anthropic, Mistral, and Groq support streaming tools. All other providers will always return `None` for tools.
    
    If you think we're missing any, let us know!

### Streaming Partial Tools

You can also stream intermediate partial tools and their deltas (rather than just the fully constructed tool) by setting `stream={"partial_tools": True}`:

!!! mira ""

    === "BaseTool"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, openai
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call(
                        "gpt-4o-mini",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Anthropic"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, anthropic
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call(
                        "claude-3-5-sonnet-20240620",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Mistral"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, mistral
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call(
                        "mistral-large-latest",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Gemini"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, gemini
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call(
                        "gemini-1.5-flash",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Groq"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, groq
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call(
                        "llama-3.1-70b-versatile",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Cohere"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, cohere
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call(
                        "command-r-plus",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "LiteLLM"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, litellm
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call(
                        "gpt-4o-mini",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Azure AI"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, azure
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call(
                        "gpt-4o-mini",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Vertex AI"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call(
                        "gemini-1.5-flash",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Bedrock"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, bedrock
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call(
                        "anthropic.claude-3-haiku-20240307-v1:0",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, Messages, openai
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call(
                        "gpt-4o-mini",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Anthropic"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, Messages, anthropic
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call(
                        "claude-3-5-sonnet-20240620",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Mistral"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, Messages, mistral
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call(
                        "mistral-large-latest",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Gemini"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, Messages, gemini
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call(
                        "gemini-1.5-flash",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Groq"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, Messages, groq
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call(
                        "llama-3.1-70b-versatile",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Cohere"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, Messages, cohere
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call(
                        "command-r-plus",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "LiteLLM"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, Messages, litellm
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call(
                        "gpt-4o-mini",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Azure AI"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, Messages, azure
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call(
                        "gpt-4o-mini",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Vertex AI"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, Messages, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call(
                        "gemini-1.5-flash",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Bedrock"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, Messages, bedrock
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call(
                        "anthropic.claude-3-haiku-20240307-v1:0",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, openai, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call(
                        "gpt-4o-mini",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Anthropic"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, anthropic, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call(
                        "claude-3-5-sonnet-20240620",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Mistral"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, mistral, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call(
                        "mistral-large-latest",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Gemini"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, gemini, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call(
                        "gemini-1.5-flash",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Groq"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, groq, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call(
                        "llama-3.1-70b-versatile",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Cohere"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, cohere, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call(
                        "command-r-plus",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "LiteLLM"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, litellm, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call(
                        "gpt-4o-mini",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Azure AI"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, azure, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call(
                        "gpt-4o-mini",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Vertex AI"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, prompt_template, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call(
                        "gemini-1.5-flash",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Bedrock"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseTool, bedrock, prompt_template
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call(
                        "anthropic.claude-3-haiku-20240307-v1:0",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseMessageParam, BaseTool, openai
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call(
                        "gpt-4o-mini",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Anthropic"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseMessageParam, BaseTool, anthropic
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call(
                        "claude-3-5-sonnet-20240620",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Mistral"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseMessageParam, BaseTool, mistral
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call(
                        "mistral-large-latest",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Gemini"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseMessageParam, BaseTool, gemini
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call(
                        "gemini-1.5-flash",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Groq"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseMessageParam, BaseTool, groq
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call(
                        "llama-3.1-70b-versatile",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Cohere"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseMessageParam, BaseTool, cohere
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call(
                        "command-r-plus",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "LiteLLM"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseMessageParam, BaseTool, litellm
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call(
                        "gpt-4o-mini",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Azure AI"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseMessageParam, BaseTool, azure
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call(
                        "gpt-4o-mini",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Vertex AI"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseMessageParam, BaseTool, vertex
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call(
                        "gemini-1.5-flash",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Bedrock"

                ```python hl_lines="22 31"
                    from mirascope.core import BaseMessageParam, BaseTool, bedrock
                    from pydantic import Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(..., description="The title of the book.")

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call(
                        "anthropic.claude-3-haiku-20240307-v1:0",
                        tools=[GetBookAuthor],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```


    === "Function"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="21 30"
                    from mirascope.core import openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call(
                        "gpt-4o-mini",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Anthropic"

                ```python hl_lines="21 30"
                    from mirascope.core import anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call(
                        "claude-3-5-sonnet-20240620",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Mistral"

                ```python hl_lines="21 30"
                    from mirascope.core import mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call(
                        "mistral-large-latest",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Gemini"

                ```python hl_lines="21 30"
                    from mirascope.core import gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call(
                        "gemini-1.5-flash",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Groq"

                ```python hl_lines="21 30"
                    from mirascope.core import groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call(
                        "llama-3.1-70b-versatile",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Cohere"

                ```python hl_lines="21 30"
                    from mirascope.core import cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call(
                        "command-r-plus",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "LiteLLM"

                ```python hl_lines="21 30"
                    from mirascope.core import litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call(
                        "gpt-4o-mini",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Azure AI"

                ```python hl_lines="21 30"
                    from mirascope.core import azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call(
                        "gpt-4o-mini",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Vertex AI"

                ```python hl_lines="21 30"
                    from mirascope.core import vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call(
                        "gemini-1.5-flash",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Bedrock"

                ```python hl_lines="21 30"
                    from mirascope.core import bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call(
                        "anthropic.claude-3-haiku-20240307-v1:0",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> str:
                        return f"Who wrote {books}?"


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="21 30"
                    from mirascope.core import Messages, openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call(
                        "gpt-4o-mini",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Anthropic"

                ```python hl_lines="21 30"
                    from mirascope.core import Messages, anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call(
                        "claude-3-5-sonnet-20240620",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Mistral"

                ```python hl_lines="21 30"
                    from mirascope.core import Messages, mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call(
                        "mistral-large-latest",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Gemini"

                ```python hl_lines="21 30"
                    from mirascope.core import Messages, gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call(
                        "gemini-1.5-flash",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Groq"

                ```python hl_lines="21 30"
                    from mirascope.core import Messages, groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call(
                        "llama-3.1-70b-versatile",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Cohere"

                ```python hl_lines="21 30"
                    from mirascope.core import Messages, cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call(
                        "command-r-plus",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "LiteLLM"

                ```python hl_lines="21 30"
                    from mirascope.core import Messages, litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call(
                        "gpt-4o-mini",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Azure AI"

                ```python hl_lines="21 30"
                    from mirascope.core import Messages, azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call(
                        "gpt-4o-mini",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Vertex AI"

                ```python hl_lines="21 30"
                    from mirascope.core import Messages, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call(
                        "gemini-1.5-flash",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Bedrock"

                ```python hl_lines="21 30"
                    from mirascope.core import Messages, bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call(
                        "anthropic.claude-3-haiku-20240307-v1:0",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> Messages.Type:
                        return Messages.User(f"Who wrote {books}?")


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="21 30"
                    from mirascope.core import openai, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call(
                        "gpt-4o-mini",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Anthropic"

                ```python hl_lines="21 30"
                    from mirascope.core import anthropic, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call(
                        "claude-3-5-sonnet-20240620",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Mistral"

                ```python hl_lines="21 30"
                    from mirascope.core import mistral, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call(
                        "mistral-large-latest",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Gemini"

                ```python hl_lines="21 30"
                    from mirascope.core import gemini, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call(
                        "gemini-1.5-flash",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Groq"

                ```python hl_lines="21 30"
                    from mirascope.core import groq, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call(
                        "llama-3.1-70b-versatile",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Cohere"

                ```python hl_lines="21 30"
                    from mirascope.core import cohere, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call(
                        "command-r-plus",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "LiteLLM"

                ```python hl_lines="21 30"
                    from mirascope.core import litellm, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call(
                        "gpt-4o-mini",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Azure AI"

                ```python hl_lines="21 30"
                    from mirascope.core import azure, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call(
                        "gpt-4o-mini",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Vertex AI"

                ```python hl_lines="21 30"
                    from mirascope.core import prompt_template, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call(
                        "gemini-1.5-flash",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Bedrock"

                ```python hl_lines="21 30"
                    from mirascope.core import bedrock, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call(
                        "anthropic.claude-3-haiku-20240307-v1:0",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    @prompt_template("Who wrote {book}?")
                    def identify_authors(books: list[str]): ...


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="21 30"
                    from mirascope.core import BaseMessageParam, openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call(
                        "gpt-4o-mini",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Anthropic"

                ```python hl_lines="21 30"
                    from mirascope.core import BaseMessageParam, anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call(
                        "claude-3-5-sonnet-20240620",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Mistral"

                ```python hl_lines="21 30"
                    from mirascope.core import BaseMessageParam, mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call(
                        "mistral-large-latest",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Gemini"

                ```python hl_lines="21 30"
                    from mirascope.core import BaseMessageParam, gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call(
                        "gemini-1.5-flash",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Groq"

                ```python hl_lines="21 30"
                    from mirascope.core import BaseMessageParam, groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call(
                        "llama-3.1-70b-versatile",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Cohere"

                ```python hl_lines="21 30"
                    from mirascope.core import BaseMessageParam, cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call(
                        "command-r-plus",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "LiteLLM"

                ```python hl_lines="21 30"
                    from mirascope.core import BaseMessageParam, litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call(
                        "gpt-4o-mini",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Azure AI"

                ```python hl_lines="21 30"
                    from mirascope.core import BaseMessageParam, azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call(
                        "gpt-4o-mini",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Vertex AI"

                ```python hl_lines="21 30"
                    from mirascope.core import BaseMessageParam, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call(
                        "gemini-1.5-flash",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:  # will always be None, not supported at the provider level
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```
            === "Bedrock"

                ```python hl_lines="21 30"
                    from mirascope.core import BaseMessageParam, bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call(
                        "anthropic.claude-3-haiku-20240307-v1:0",
                        tools=[get_book_author],
                        stream={"partial_tools": True},
                    )
                    def identify_authors(books: list[str]) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {books}?")]


                    stream = identify_authors(["The Name of the Wind", "Mistborn: The Final Empire"])
                    for chunk, tool in stream:
                        if tool:
                            if tool.delta is not None:  # partial tool
                                print(tool.delta)
                            else:
                                print(tool.call())
                        else:
                            print(chunk.content, end="", flush=True)
                ```



## Tool Message Parameters

!!! mira ""

    <div align="center">
        Calling tools and inserting their outputs into subsequent LLM API calls in a loop in the most basic form of an agent. While we cover this briefly here, we recommend reading the section on [Agents](./agents.md) for more details and examples.
    </div>

Generally the next step after the LLM returns a tool call is for you to call the tool on its behalf and supply the output in a subsequent call.

Let's take a look at a basic example of this:

!!! mira ""

    === "BaseTool"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, openai


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[openai.OpenAIMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Anthropic"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, anthropic


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[anthropic.AnthropicMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Mistral"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, mistral


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[mistral.MistralMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Gemini"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, gemini


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[gemini.GeminiMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Groq"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, groq


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_author(book: str, history: list[groq.GroqMessageParam]) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Cohere"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, cohere


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[cohere.CohereMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "LiteLLM"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, litellm


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[litellm.LiteLLMMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Azure AI"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, azure


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str, history: list[azure.AzureMessageParam]) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Vertex AI"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, vertex


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[vertex.VertexMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Bedrock"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, bedrock


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[bedrock.BedrockMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, openai


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[openai.OpenAIMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Anthropic"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, anthropic


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[anthropic.AnthropicMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Mistral"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, mistral


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[mistral.MistralMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Gemini"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, gemini


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[gemini.GeminiMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Groq"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, groq


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_author(book: str, history: list[groq.GroqMessageParam]) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Cohere"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, cohere


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[cohere.CohereMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "LiteLLM"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, litellm


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[litellm.LiteLLMMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Azure AI"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, azure


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str, history: list[azure.AzureMessageParam]) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Vertex AI"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, vertex


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[vertex.VertexMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Bedrock"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseTool, Messages, bedrock


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[bedrock.BedrockMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="19 24 33-35 38"
                    from mirascope.core import BaseDynamicConfig, BaseTool, openai, prompt_template


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[openai.OpenAIMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Anthropic"

                ```python hl_lines="19 24 33-35 38"
                    from mirascope.core import BaseDynamicConfig, BaseTool, anthropic, prompt_template


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[anthropic.AnthropicMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Mistral"

                ```python hl_lines="19 24 33-35 38"
                    from mirascope.core import BaseDynamicConfig, BaseTool, mistral, prompt_template


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[mistral.MistralMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Gemini"

                ```python hl_lines="19 24 33-35 38"
                    from mirascope.core import BaseDynamicConfig, BaseTool, gemini, prompt_template


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[gemini.GeminiMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Groq"

                ```python hl_lines="19 24 33-35 38"
                    from mirascope.core import BaseDynamicConfig, BaseTool, groq, prompt_template


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[groq.GroqMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Cohere"

                ```python hl_lines="19 24 33-35 38"
                    from mirascope.core import BaseDynamicConfig, BaseTool, cohere, prompt_template


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[cohere.CohereMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "LiteLLM"

                ```python hl_lines="19 24 33-35 38"
                    from mirascope.core import BaseDynamicConfig, BaseTool, litellm, prompt_template


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[litellm.LiteLLMMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Azure AI"

                ```python hl_lines="19 24 33-35 38"
                    from mirascope.core import BaseDynamicConfig, BaseTool, azure, prompt_template


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[azure.AzureMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Vertex AI"

                ```python hl_lines="19 24 33-35 38"
                    from mirascope.core import BaseDynamicConfig, BaseTool, prompt_template, vertex


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[vertex.VertexMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Bedrock"

                ```python hl_lines="19 24 33-35 38"
                    from mirascope.core import BaseDynamicConfig, BaseTool, bedrock, prompt_template


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[bedrock.BedrockMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseMessageParam, BaseTool, openai


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[openai.OpenAIMessageParam]
                    ) -> list[openai.OpenAIMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Anthropic"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseMessageParam, BaseTool, anthropic


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[anthropic.AnthropicMessageParam]
                    ) -> list[anthropic.AnthropicMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Mistral"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseMessageParam, BaseTool, mistral


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[mistral.MistralMessageParam]
                    ) -> list[mistral.MistralMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Gemini"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseMessageParam, BaseTool, gemini


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[gemini.GeminiMessageParam]
                    ) -> list[gemini.GeminiMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Groq"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseMessageParam, BaseTool, groq


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[groq.GroqMessageParam]
                    ) -> list[groq.GroqMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Cohere"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseMessageParam, BaseTool, cohere


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[cohere.CohereMessageParam]
                    ) -> list[cohere.CohereMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "LiteLLM"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseMessageParam, BaseTool, litellm


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[litellm.LiteLLMMessageParam]
                    ) -> list[litellm.LiteLLMMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Azure AI"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseMessageParam, BaseTool, azure


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[azure.AzureMessageParam]
                    ) -> list[azure.AzureMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Vertex AI"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseMessageParam, BaseTool, vertex


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[vertex.VertexMessageParam]
                    ) -> list[vertex.VertexMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Bedrock"

                ```python hl_lines="18 20 30-32 35"
                    from mirascope.core import BaseMessageParam, BaseTool, bedrock


                    class GetBookAuthor(BaseTool):
                        title: str

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_author(
                        book: str, history: list[bedrock.BedrockMessageParam]
                    ) -> list[bedrock.BedrockMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```


    === "Function"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, openai


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[openai.OpenAIMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Anthropic"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, anthropic


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[anthropic.AnthropicMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Mistral"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, mistral


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[mistral.MistralMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Gemini"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, gemini


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[gemini.GeminiMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Groq"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, groq


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_author(book: str, history: list[groq.GroqMessageParam]) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Cohere"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, cohere


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[cohere.CohereMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "LiteLLM"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, litellm


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[litellm.LiteLLMMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Azure AI"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, azure


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str, history: list[azure.AzureMessageParam]) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Vertex AI"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, vertex


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[vertex.VertexMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Bedrock"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, bedrock


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[bedrock.BedrockMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, openai


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[openai.OpenAIMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Anthropic"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, anthropic


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[anthropic.AnthropicMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Mistral"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, mistral


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[mistral.MistralMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Gemini"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, gemini


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[gemini.GeminiMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Groq"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, groq


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_author(book: str, history: list[groq.GroqMessageParam]) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Cohere"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, cohere


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[cohere.CohereMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "LiteLLM"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, litellm


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[litellm.LiteLLMMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Azure AI"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, azure


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str, history: list[azure.AzureMessageParam]) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Vertex AI"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, vertex


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[vertex.VertexMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Bedrock"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import Messages, bedrock


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[bedrock.BedrockMessageParam]
                    ) -> Messages.Type:
                        messages = [*history]
                        if book:
                            messages.append(Messages.User(f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="16 21 30-32 35"
                    from mirascope.core import BaseDynamicConfig, openai, prompt_template


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[openai.OpenAIMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Anthropic"

                ```python hl_lines="16 21 30-32 35"
                    from mirascope.core import BaseDynamicConfig, anthropic, prompt_template


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[anthropic.AnthropicMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Mistral"

                ```python hl_lines="16 21 30-32 35"
                    from mirascope.core import BaseDynamicConfig, mistral, prompt_template


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[mistral.MistralMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Gemini"

                ```python hl_lines="16 21 30-32 35"
                    from mirascope.core import BaseDynamicConfig, gemini, prompt_template


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[gemini.GeminiMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Groq"

                ```python hl_lines="16 21 30-32 35"
                    from mirascope.core import BaseDynamicConfig, groq, prompt_template


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[groq.GroqMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Cohere"

                ```python hl_lines="16 21 30-32 35"
                    from mirascope.core import BaseDynamicConfig, cohere, prompt_template


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[cohere.CohereMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "LiteLLM"

                ```python hl_lines="16 21 30-32 35"
                    from mirascope.core import BaseDynamicConfig, litellm, prompt_template


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[litellm.LiteLLMMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Azure AI"

                ```python hl_lines="16 21 30-32 35"
                    from mirascope.core import BaseDynamicConfig, azure, prompt_template


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[azure.AzureMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Vertex AI"

                ```python hl_lines="16 21 30-32 35"
                    from mirascope.core import BaseDynamicConfig, prompt_template, vertex


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[vertex.VertexMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Bedrock"

                ```python hl_lines="16 21 30-32 35"
                    from mirascope.core import BaseDynamicConfig, bedrock, prompt_template


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    @prompt_template(
                        """
                        MESSAGES: {history}
                        USER: {query}
                        """
                    )
                    def identify_author(
                        book: str, history: list[bedrock.BedrockMessageParam]
                    ) -> BaseDynamicConfig:
                        return {"computed_fields": {"query": f"Who wrote {book}" if book else ""}}


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import BaseMessageParam, openai


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[openai.OpenAIMessageParam]
                    ) -> list[openai.OpenAIMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Anthropic"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import BaseMessageParam, anthropic


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[anthropic.AnthropicMessageParam]
                    ) -> list[anthropic.AnthropicMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Mistral"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import BaseMessageParam, mistral


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[mistral.MistralMessageParam]
                    ) -> list[mistral.MistralMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Gemini"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import BaseMessageParam, gemini


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[gemini.GeminiMessageParam]
                    ) -> list[gemini.GeminiMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Groq"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import BaseMessageParam, groq


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[groq.GroqMessageParam]
                    ) -> list[groq.GroqMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Cohere"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import BaseMessageParam, cohere


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[cohere.CohereMessageParam]
                    ) -> list[cohere.CohereMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "LiteLLM"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import BaseMessageParam, litellm


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[litellm.LiteLLMMessageParam]
                    ) -> list[litellm.LiteLLMMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Azure AI"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import BaseMessageParam, azure


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[azure.AzureMessageParam]
                    ) -> list[azure.AzureMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Vertex AI"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import BaseMessageParam, vertex


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[vertex.VertexMessageParam]
                    ) -> list[vertex.VertexMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```
            === "Bedrock"

                ```python hl_lines="15 17 27-29 32"
                    from mirascope.core import BaseMessageParam, bedrock


                    def get_book_author(title: str) -> str:
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_author(
                        book: str, history: list[bedrock.BedrockMessageParam]
                    ) -> list[bedrock.BedrockMessageParam]:
                        messages = [*history]
                        if book:
                            messages.append(BaseMessageParam(role="user", content=f"Who wrote {book}?"))
                        return messages


                    history = []
                    response = identify_author("The Name of the Wind", history)
                    history += [response.user_message_param, response.message_param]
                    while tool := response.tool:
                        tools_and_outputs = [(tool, tool.call())]
                        history += response.tool_message_params(tools_and_outputs)
                        response = identify_author("", history)
                        history.append(response.message_param)
                    print(response.content)
                    # Output: The Name of the Wind was written by Patrick Rothfuss.
                ```



In this example we:

1. Add `history` to maintain the messages across multiple calls to the LLM.
2. Loop until the response no longer has tools calls.
3. While there are tool calls, call the tools, append their corresponding message parameters to the history, and make a subsequent call with an empty query and updated history. We use an empty query because the original user message is already included in the history.
4. Print the final response content once the LLM is done calling tools.

## Validation and Error Handling

Since `BaseTool` is a subclass of Pydantic's [`BaseModel`](https://docs.pydantic.dev/latest/usage/models/), they are validated on construction, so it's important that you handle potential `ValidationError`'s for building more robust applications:

!!! mira ""

    === "BaseTool"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, openai
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Anthropic"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, anthropic
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Mistral"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, mistral
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Gemini"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, gemini
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Groq"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, groq
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Cohere"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, cohere
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "LiteLLM"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, litellm
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Azure AI"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, azure
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Vertex AI"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, vertex
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Bedrock"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, bedrock
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, Messages, openai
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Anthropic"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, Messages, anthropic
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Mistral"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, Messages, mistral
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Gemini"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, Messages, gemini
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Groq"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, Messages, groq
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Cohere"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, Messages, cohere
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "LiteLLM"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, Messages, litellm
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Azure AI"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, Messages, azure
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Vertex AI"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, Messages, vertex
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Bedrock"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, Messages, bedrock
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, openai, prompt_template
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Anthropic"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, anthropic, prompt_template
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Mistral"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, mistral, prompt_template
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Gemini"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, gemini, prompt_template
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Groq"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, groq, prompt_template
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Cohere"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, cohere, prompt_template
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "LiteLLM"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, litellm, prompt_template
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Azure AI"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, azure, prompt_template
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Vertex AI"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, prompt_template, vertex
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Bedrock"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseTool, bedrock, prompt_template
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, BaseTool, openai
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Anthropic"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, BaseTool, anthropic
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Mistral"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, BaseTool, mistral
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Gemini"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, BaseTool, gemini
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Groq"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, BaseTool, groq
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Cohere"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, BaseTool, cohere
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "LiteLLM"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, BaseTool, litellm
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Azure AI"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, BaseTool, azure
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Vertex AI"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, BaseTool, vertex
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Bedrock"

                ```python hl_lines="15 34 39"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, BaseTool, bedrock
                    from pydantic import AfterValidator, Field, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: Annotated[str, AfterValidator(is_upper)] = Field(
                            ..., description="The title of the book."
                        )

                        def call(self) -> str:
                            if self.title == "THE NAME OF THE WIND":
                                return "Patrick Rothfuss"
                            elif self.title == "MISTBORN: THE FINAL EMPIRE":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```


    === "Function"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import openai
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Anthropic"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import anthropic
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Mistral"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import mistral
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Gemini"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import gemini
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Groq"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import groq
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Cohere"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import cohere
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "LiteLLM"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import litellm
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Azure AI"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import azure
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Vertex AI"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import vertex
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Bedrock"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import bedrock
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import Messages, openai
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Anthropic"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import Messages, anthropic
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Mistral"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import Messages, mistral
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Gemini"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import Messages, gemini
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Groq"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import Messages, groq
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Cohere"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import Messages, cohere
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "LiteLLM"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import Messages, litellm
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Azure AI"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import Messages, azure
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Vertex AI"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import Messages, vertex
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Bedrock"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import Messages, bedrock
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import openai, prompt_template
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Anthropic"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import anthropic, prompt_template
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Mistral"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import mistral, prompt_template
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Gemini"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import gemini, prompt_template
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Groq"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import groq, prompt_template
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Cohere"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import cohere, prompt_template
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "LiteLLM"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import litellm, prompt_template
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Azure AI"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import azure, prompt_template
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Vertex AI"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import prompt_template, vertex
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Bedrock"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import bedrock, prompt_template
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, openai
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Anthropic"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, anthropic
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Mistral"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, mistral
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Gemini"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, gemini
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Groq"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, groq
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Cohere"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, cohere
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "LiteLLM"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, litellm
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Azure AI"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, azure
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Vertex AI"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, vertex
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```
            === "Bedrock"

                ```python hl_lines="12 32 37"
                    from typing import Annotated

                    from mirascope.core import BaseMessageParam, bedrock
                    from pydantic import AfterValidator, ValidationError


                    def is_upper(v: str) -> str:
                        assert v.isupper(), "Must be uppercase"
                        return v


                    def get_book_author(title: Annotated[str, AfterValidator(is_upper)]) -> str:
                        """Returns the author of the book with the given title

                        Args:
                            title: The title of the book.
                        """
                        if title == "THE NAME OF THE WIND":
                            return "Patrick Rothfuss"
                        elif title == "MISTBORN: THE FINAL EMPIRE":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    try:
                        if tool := response.tool:
                            print(tool.call())
                        else:
                            print(response.content)
                    except ValidationError as e:
                        print(e)
                        # > 1 validation error for GetBookAuthor
                        #   title
                        #     Assertion failed, Must be uppercase [type=assertion_error, input_value='The Name of the Wind', input_type=str]
                        #       For further information visit https://errors.pydantic.dev/2.8/v/assertion_error
                ```



In this example we've added additional validation, but it's important that you still handle `ValidationError`'s even with standard tools since they are still `BaseModel` instances and will validate the field types regardless.

## Few-Shot Examples

Just like with [Response Models](./response_models.md#few-shot-examples), you can add few-shot examples to your tools:

!!! mira ""

    === "BaseTool"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, openai
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, anthropic
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, mistral
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, gemini
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, groq
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, cohere
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, litellm
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, azure
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, vertex
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, bedrock
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, Messages, openai
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, Messages, anthropic
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, Messages, mistral
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, Messages, gemini
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, Messages, groq
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, Messages, cohere
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, Messages, litellm
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, Messages, azure
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, Messages, vertex
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, Messages, bedrock
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, openai, prompt_template
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, anthropic, prompt_template
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, mistral, prompt_template
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, gemini, prompt_template
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, groq, prompt_template
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, cohere, prompt_template
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, litellm, prompt_template
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, azure, prompt_template
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, prompt_template, vertex
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseTool, bedrock, prompt_template
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseMessageParam, BaseTool, openai
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseMessageParam, BaseTool, anthropic
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseMessageParam, BaseTool, mistral
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseMessageParam, BaseTool, gemini
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseMessageParam, BaseTool, groq
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseMessageParam, BaseTool, cohere
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @cohere.call("command-r-plus", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseMessageParam, BaseTool, litellm
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseMessageParam, BaseTool, azure
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseMessageParam, BaseTool, vertex
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="11 15"
                    from mirascope.core import BaseMessageParam, BaseTool, bedrock
                    from pydantic import ConfigDict, Field


                    class GetBookAuthor(BaseTool):
                        """Returns the author of the book with the given title."""

                        title: str = Field(
                            ...,
                            description="The title of the book.",
                            examples=["The Name of the Wind"],
                        )

                        model_config = ConfigDict(
                            json_schema_extra={"examples": [{"title": "The Name of the Wind"}]}
                        )

                        def call(self) -> str:
                            if self.title == "The Name of the Wind":
                                return "Patrick Rothfuss"
                            elif self.title == "Mistborn: The Final Empire":
                                return "Brandon Sanderson"
                            else:
                                return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[GetBookAuthor])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```


    === "Function"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="7-8"
                    from mirascope.core import openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="7-8"
                    from mirascope.core import anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="7-8"
                    from mirascope.core import mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="7-8"
                    from mirascope.core import gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="7-8"
                    from mirascope.core import groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="7-8"
                    from mirascope.core import cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="7-8"
                    from mirascope.core import litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="7-8"
                    from mirascope.core import azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="7-8"
                    from mirascope.core import vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="7-8"
                    from mirascope.core import bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_author(book: str) -> str:
                        return f"Who wrote {book}?"


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="7-8"
                    from mirascope.core import Messages, openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="7-8"
                    from mirascope.core import Messages, anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="7-8"
                    from mirascope.core import Messages, mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="7-8"
                    from mirascope.core import Messages, gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="7-8"
                    from mirascope.core import Messages, groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="7-8"
                    from mirascope.core import Messages, cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="7-8"
                    from mirascope.core import Messages, litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="7-8"
                    from mirascope.core import Messages, azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="7-8"
                    from mirascope.core import Messages, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="7-8"
                    from mirascope.core import Messages, bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_author(book: str) -> Messages.Type:
                        return Messages.User(f"Who wrote {book}?")


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="7-8"
                    from mirascope.core import openai, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="7-8"
                    from mirascope.core import anthropic, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="7-8"
                    from mirascope.core import mistral, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="7-8"
                    from mirascope.core import gemini, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="7-8"
                    from mirascope.core import groq, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="7-8"
                    from mirascope.core import cohere, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="7-8"
                    from mirascope.core import litellm, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="7-8"
                    from mirascope.core import azure, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="7-8"
                    from mirascope.core import prompt_template, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="7-8"
                    from mirascope.core import bedrock, prompt_template


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    @prompt_template("Who wrote {book}?")
                    def identify_author(book: str): ...


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="7-8"
                    from mirascope.core import BaseMessageParam, openai


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @openai.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Anthropic"

                ```python hl_lines="7-8"
                    from mirascope.core import BaseMessageParam, anthropic


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Mistral"

                ```python hl_lines="7-8"
                    from mirascope.core import BaseMessageParam, mistral


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @mistral.call("mistral-large-latest", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Gemini"

                ```python hl_lines="7-8"
                    from mirascope.core import BaseMessageParam, gemini


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @gemini.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Groq"

                ```python hl_lines="7-8"
                    from mirascope.core import BaseMessageParam, groq


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @groq.call("llama-3.1-70b-versatile", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Cohere"

                ```python hl_lines="7-8"
                    from mirascope.core import BaseMessageParam, cohere


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @cohere.call("command-r-plus", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "LiteLLM"

                ```python hl_lines="7-8"
                    from mirascope.core import BaseMessageParam, litellm


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @litellm.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Azure AI"

                ```python hl_lines="7-8"
                    from mirascope.core import BaseMessageParam, azure


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @azure.call("gpt-4o-mini", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Vertex AI"

                ```python hl_lines="7-8"
                    from mirascope.core import BaseMessageParam, vertex


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @vertex.call("gemini-1.5-flash", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```
            === "Bedrock"

                ```python hl_lines="7-8"
                    from mirascope.core import BaseMessageParam, bedrock


                    def get_book_author(title: str) -> str:
                        """Returns the author of the book with the given title

                        Example:
                            {"title": "The Name of the Wind"}

                        Args:
                            title: The title of the book.
                        """
                        if title == "The Name of the Wind":
                            return "Patrick Rothfuss"
                        elif title == "Mistborn: The Final Empire":
                            return "Brandon Sanderson"
                        else:
                            return "Unknown"


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[get_book_author])
                    def identify_author(book: str) -> list[BaseMessageParam]:
                        return [BaseMessageParam(role="user", content=f"Who wrote {book}?")]


                    response = identify_author("The Name of the Wind")
                    if tool := response.tool:
                        print(tool.call())
                    else:
                        print(response.content)
                ```



!!! note "Only `BaseTool` supports field level examples"

    Currently we only support field level examples for `BaseTool` definitions of tools. We are working on identifying the best interface for adding examples at the field level for function tool definitions.

## ToolKit

??? api "API Documentation"

    [`mirascope.core.base.toolkit`](../api/core/base/toolkit.md)

The `BaseToolKit` class enables:

- Organiziation of a group of tools under a single namespace.
    - This can be useful for making it clear to the LLM when to use certain tools over others. For example, you could namespace a set of tools under "file_system" to indicate that those tools are specifically for interacting with the file system.
- Dynamic tool definitions.
    - This can be useful for generating tool definitions that are dependent on some input or state. For example, you may want to update the description of tools based on an argument of the call being made.

!!! mira ""

    === "Shorthand"

        === "OpenAI"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    openai,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @openai.call("gpt-4o-mini")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Anthropic"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    anthropic,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @anthropic.call("claude-3-5-sonnet-20240620")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Mistral"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    mistral,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @mistral.call("mistral-large-latest")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Gemini"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    gemini,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @gemini.call("gemini-1.5-flash")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Groq"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    groq,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @groq.call("llama-3.1-70b-versatile")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Cohere"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    cohere,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @cohere.call("command-r-plus")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "LiteLLM"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    litellm,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @litellm.call("gpt-4o-mini")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Azure AI"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    azure,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @azure.call("gpt-4o-mini")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Vertex AI"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    toolkit_tool,
                    vertex,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @vertex.call("gemini-1.5-flash")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Bedrock"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    bedrock,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```

    === "Messages"

        === "OpenAI"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    openai,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @openai.call("gpt-4o-mini")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Anthropic"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    anthropic,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @anthropic.call("claude-3-5-sonnet-20240620")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Mistral"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    mistral,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @mistral.call("mistral-large-latest")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Gemini"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    gemini,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @gemini.call("gemini-1.5-flash")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Groq"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    groq,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @groq.call("llama-3.1-70b-versatile")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Cohere"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    cohere,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @cohere.call("command-r-plus")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "LiteLLM"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    litellm,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @litellm.call("gpt-4o-mini")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Azure AI"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    azure,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @azure.call("gpt-4o-mini")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Vertex AI"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    toolkit_tool,
                    vertex,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @vertex.call("gemini-1.5-flash")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Bedrock"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    Messages,
                    bedrock,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [Messages.User(f"What {genre} author should I read?")],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```

    === "String Template"

        === "OpenAI"

            ```python hl_lines="10 11 13 15 19 27 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    openai,
                    prompt_template,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @openai.call("gpt-4o-mini")
                @prompt_template("What {genre} author should I read?")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {"tools": toolkit.create_tools()}


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Anthropic"

            ```python hl_lines="10 11 13 15 19 27 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    anthropic,
                    prompt_template,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @anthropic.call("claude-3-5-sonnet-20240620")
                @prompt_template("What {genre} author should I read?")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {"tools": toolkit.create_tools()}


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Mistral"

            ```python hl_lines="10 11 13 15 19 27 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    mistral,
                    prompt_template,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @mistral.call("mistral-large-latest")
                @prompt_template("What {genre} author should I read?")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {"tools": toolkit.create_tools()}


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Gemini"

            ```python hl_lines="10 11 13 15 19 27 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    gemini,
                    prompt_template,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @gemini.call("gemini-1.5-flash")
                @prompt_template("What {genre} author should I read?")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {"tools": toolkit.create_tools()}


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Groq"

            ```python hl_lines="10 11 13 15 19 27 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    groq,
                    prompt_template,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @groq.call("llama-3.1-70b-versatile")
                @prompt_template("What {genre} author should I read?")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {"tools": toolkit.create_tools()}


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Cohere"

            ```python hl_lines="10 11 13 15 19 27 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    cohere,
                    prompt_template,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @cohere.call("command-r-plus")
                @prompt_template("What {genre} author should I read?")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {"tools": toolkit.create_tools()}


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "LiteLLM"

            ```python hl_lines="10 11 13 15 19 27 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    litellm,
                    prompt_template,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @litellm.call("gpt-4o-mini")
                @prompt_template("What {genre} author should I read?")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {"tools": toolkit.create_tools()}


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Azure AI"

            ```python hl_lines="10 11 13 15 19 27 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    azure,
                    prompt_template,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @azure.call("gpt-4o-mini")
                @prompt_template("What {genre} author should I read?")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {"tools": toolkit.create_tools()}


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Vertex AI"

            ```python hl_lines="10 11 13 15 19 27 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    prompt_template,
                    toolkit_tool,
                    vertex,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @vertex.call("gemini-1.5-flash")
                @prompt_template("What {genre} author should I read?")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {"tools": toolkit.create_tools()}


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Bedrock"

            ```python hl_lines="10 11 13 15 19 27 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseToolKit,
                    bedrock,
                    prompt_template,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0")
                @prompt_template("What {genre} author should I read?")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {"tools": toolkit.create_tools()}


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```

    === "BaseMessageParam"

        === "OpenAI"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseMessageParam,
                    BaseToolKit,
                    openai,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @openai.call("gpt-4o-mini")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [
                            BaseMessageParam(role="user", content=f"What {genre} author should I read?")
                        ],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Anthropic"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseMessageParam,
                    BaseToolKit,
                    anthropic,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @anthropic.call("claude-3-5-sonnet-20240620")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [
                            BaseMessageParam(role="user", content=f"What {genre} author should I read?")
                        ],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Mistral"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseMessageParam,
                    BaseToolKit,
                    mistral,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @mistral.call("mistral-large-latest")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [
                            BaseMessageParam(role="user", content=f"What {genre} author should I read?")
                        ],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Gemini"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseMessageParam,
                    BaseToolKit,
                    gemini,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @gemini.call("gemini-1.5-flash")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [
                            BaseMessageParam(role="user", content=f"What {genre} author should I read?")
                        ],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Groq"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseMessageParam,
                    BaseToolKit,
                    groq,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @groq.call("llama-3.1-70b-versatile")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [
                            BaseMessageParam(role="user", content=f"What {genre} author should I read?")
                        ],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Cohere"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseMessageParam,
                    BaseToolKit,
                    cohere,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @cohere.call("command-r-plus")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [
                            BaseMessageParam(role="user", content=f"What {genre} author should I read?")
                        ],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "LiteLLM"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseMessageParam,
                    BaseToolKit,
                    litellm,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @litellm.call("gpt-4o-mini")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [
                            BaseMessageParam(role="user", content=f"What {genre} author should I read?")
                        ],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Azure AI"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseMessageParam,
                    BaseToolKit,
                    azure,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @azure.call("gpt-4o-mini")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [
                            BaseMessageParam(role="user", content=f"What {genre} author should I read?")
                        ],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Vertex AI"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseMessageParam,
                    BaseToolKit,
                    toolkit_tool,
                    vertex,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @vertex.call("gemini-1.5-flash")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [
                            BaseMessageParam(role="user", content=f"What {genre} author should I read?")
                        ],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```
        === "Bedrock"

            ```python hl_lines="10 11 13 15 19 26 28 33 36 38 41"
                from mirascope.core import (
                    BaseDynamicConfig,
                    BaseMessageParam,
                    BaseToolKit,
                    bedrock,
                    toolkit_tool,
                )


                class BookTools(BaseToolKit):
                    __namespace__ = "book_tools"

                    reading_level: str

                    @toolkit_tool
                    def suggest_author(self, author: str) -> str:
                        """Suggests an author for the user to read based on their reading level.

                        User reading level: {self.reading_level}
                        """
                        return f"I would suggest you read some books by {author}"


                @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0")
                def recommend_author(genre: str, reading_level: str) -> BaseDynamicConfig:
                    toolkit = BookTools(reading_level=reading_level)
                    return {
                        "tools": toolkit.create_tools(),
                        "messages": [
                            BaseMessageParam(role="user", content=f"What {genre} author should I read?")
                        ],
                    }


                response = recommend_author("fantasy", "beginner")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by J.K. Rowling

                response = recommend_author("fantasy", "advanced")
                if tool := response.tool:
                    print(tool.call())
                    # Output: I would suggest you read some books by Brandon Sanderson
            ```


In this example we:

1. Create a `BookTools` toolkit
2. We set `__namespace__` equal to "book_tools"
3. We define the `reading_level` state of the toolkit
4. We define the `suggest_author` tool and mark it with `@toolkit_tool` to identify the method as a tool of the toolkit
5. We use the `{self.reading_level}` template variable in the description of the tool.
6. We create the toolkit with the `reading_level` argument.
7. We call `create_tools` to generate the toolkit's tools. This will generate the tools on every call, ensuring that the description correctly includes the provided reading level.
8. We call `recommend_author` with a "beginner" reading level, and the LLM calls the `suggest_author` tool with its suggested author.
9. We call `recommend_author` again but with "advanced" reading level, and again the LLM calls the `suggest_author` tool with its suggested author.

The core concept to understand here is that the `suggest_author` tool's description is dynamically generated on each call to `recommend_author` through the toolkit.

This is why the "beginner" recommendation and "advanced" recommendations call the `suggest_author` tool with authors befitting the reading level of each call.

## Pre-Made Tools and ToolKits

Mirascope provides several pre-made tools and toolkits to help you get started quickly:

!!! warning "Dependencies Required"
    Pre-made tools and toolkits require installing the dependencies listed in the "Dependencies" column for each tool/toolkit. 
    
    For example:
    ```bash
    pip install httpx  # For HTTPX tool
    pip install requests  # For Requests tool
    ```

### Pre-Made Tools

??? api "API Documentation"

    - [`mirascope.tools.web.DuckDuckGoSearch`](../api/tools/web/duckduckgo.md)
    - [`mirascope.tools.web.HTTPX`](../api/tools/web/httpx.md)
    - [`mirascope.tools.web.ParseURLContent`](../api/tools/web/parse_url_content.md)
    - [`mirascope.tools.web.Requests`](../api/tools/web/requests.md)

| Tool | Primary Use | Dependencies | Key Features | Characteristics |
|------|-------------|--------------|--------------|-----------------|
| [`DuckDuckGoSearch`](../api/tools/web/duckduckgo.md) | Web Searching | [`duckduckgo-search`](https://pypi.org/project/duckduckgo-search/) |  Multiple query support<br> Title/URL/snippet extraction<br> Result count control<br> Automated formatting |  Privacy-focused search<br> Async support (AsyncDuckDuckGoSearch)<br> Automatic filtering<br> Structured results |
| [`HTTPX`](../api/tools/web/httpx.md) | Advanced HTTP Requests | [`httpx`](https://pypi.org/project/httpx/) |  Full HTTP method support (GET/POST/PUT/DELETE)<br> Custom header support<br> File upload/download<br> Form data handling |  Async support (AsyncHTTPX)<br> Configurable timeouts<br> Comprehensive error handling<br> Redirect control |
| [`ParseURLContent`](../api/tools/web/parse_url_content.md) | Web Content Extraction | [`beautifulsoup4`](https://pypi.org/project/beautifulsoup4/), [`httpx`](https://pypi.org/project/httpx/) |  HTML content fetching<br> Main content extraction<br> Element filtering<br> Text normalization |  Automatic cleaning<br> Configurable parser<br> Timeout settings<br> Error handling |
| [`Requests`](../api/tools/web/requests.md) | Simple HTTP Requests | [`requests`](https://pypi.org/project/requests/) |  Basic HTTP methods<br> Simple API<br> Response text retrieval<br> Basic authentication |  Minimal configuration<br> Intuitive interface<br> Basic error handling<br> Lightweight implementation |

Example using DuckDuckGoSearch:

!!! mira ""

    === "Basic Usage"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="2 5"
                    from mirascope.core import openai
                    from mirascope.tools import DuckDuckGoSearch


                    @openai.call("gpt-4o-mini", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Anthropic"

                ```python hl_lines="2 5"
                    from mirascope.core import anthropic
                    from mirascope.tools import DuckDuckGoSearch


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Mistral"

                ```python hl_lines="2 5"
                    from mirascope.core import mistral
                    from mirascope.tools import DuckDuckGoSearch


                    @mistral.call("mistral-large-latest", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Gemini"

                ```python hl_lines="2 5"
                    from mirascope.core import gemini
                    from mirascope.tools import DuckDuckGoSearch


                    @gemini.call("gemini-1.5-flash", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Groq"

                ```python hl_lines="2 5"
                    from mirascope.core import groq
                    from mirascope.tools import DuckDuckGoSearch


                    @groq.call("llama-3.1-70b-versatile", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Cohere"

                ```python hl_lines="2 5"
                    from mirascope.core import cohere
                    from mirascope.tools import DuckDuckGoSearch


                    @cohere.call("command-r-plus", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "LiteLLM"

                ```python hl_lines="2 5"
                    from mirascope.core import litellm
                    from mirascope.tools import DuckDuckGoSearch


                    @litellm.call("gpt-4o-mini", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Azure AI"

                ```python hl_lines="2 5"
                    from mirascope.core import azure
                    from mirascope.tools import DuckDuckGoSearch


                    @azure.call("gpt-4o-mini", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Vertex AI"

                ```python hl_lines="2 5"
                    from mirascope.core import vertex
                    from mirascope.tools import DuckDuckGoSearch


                    @vertex.call("gemini-1.5-flash", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Bedrock"

                ```python hl_lines="2 5"
                    from mirascope.core import bedrock
                    from mirascope.tools import DuckDuckGoSearch


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="2 5"
                    from mirascope.core import openai, Messages
                    from mirascope.tools import DuckDuckGoSearch


                    @openai.call("gpt-4o-mini", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Anthropic"

                ```python hl_lines="2 5"
                    from mirascope.core import anthropic, Messages
                    from mirascope.tools import DuckDuckGoSearch


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Mistral"

                ```python hl_lines="2 5"
                    from mirascope.core import mistral, Messages
                    from mirascope.tools import DuckDuckGoSearch


                    @mistral.call("mistral-large-latest", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Gemini"

                ```python hl_lines="2 5"
                    from mirascope.core import gemini, Messages
                    from mirascope.tools import DuckDuckGoSearch


                    @gemini.call("gemini-1.5-flash", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Groq"

                ```python hl_lines="2 5"
                    from mirascope.core import groq, Messages
                    from mirascope.tools import DuckDuckGoSearch


                    @groq.call("llama-3.1-70b-versatile", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Cohere"

                ```python hl_lines="2 5"
                    from mirascope.core import cohere, Messages
                    from mirascope.tools import DuckDuckGoSearch


                    @cohere.call("command-r-plus", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "LiteLLM"

                ```python hl_lines="2 5"
                    from mirascope.core import litellm, Messages
                    from mirascope.tools import DuckDuckGoSearch


                    @litellm.call("gpt-4o-mini", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Azure AI"

                ```python hl_lines="2 5"
                    from mirascope.core import azure, Messages
                    from mirascope.tools import DuckDuckGoSearch


                    @azure.call("gpt-4o-mini", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Vertex AI"

                ```python hl_lines="2 5"
                    from mirascope.core import vertex, Messages
                    from mirascope.tools import DuckDuckGoSearch


                    @vertex.call("gemini-1.5-flash", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Bedrock"

                ```python hl_lines="2 5"
                    from mirascope.core import bedrock, Messages
                    from mirascope.tools import DuckDuckGoSearch


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="2 5"
                    from mirascope.core import openai, prompt_template
                    from mirascope.tools import DuckDuckGoSearch


                    @openai.call("gpt-4o-mini", tools=[DuckDuckGoSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Anthropic"

                ```python hl_lines="2 5"
                    from mirascope.core import anthropic, prompt_template
                    from mirascope.tools import DuckDuckGoSearch


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[DuckDuckGoSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Mistral"

                ```python hl_lines="2 5"
                    from mirascope.core import mistral, prompt_template
                    from mirascope.tools import DuckDuckGoSearch


                    @mistral.call("mistral-large-latest", tools=[DuckDuckGoSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Gemini"

                ```python hl_lines="2 5"
                    from mirascope.core import gemini, prompt_template
                    from mirascope.tools import DuckDuckGoSearch


                    @gemini.call("gemini-1.5-flash", tools=[DuckDuckGoSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Groq"

                ```python hl_lines="2 5"
                    from mirascope.core import groq, prompt_template
                    from mirascope.tools import DuckDuckGoSearch


                    @groq.call("llama-3.1-70b-versatile", tools=[DuckDuckGoSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Cohere"

                ```python hl_lines="2 5"
                    from mirascope.core import cohere, prompt_template
                    from mirascope.tools import DuckDuckGoSearch


                    @cohere.call("command-r-plus", tools=[DuckDuckGoSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "LiteLLM"

                ```python hl_lines="2 5"
                    from mirascope.core import litellm, prompt_template
                    from mirascope.tools import DuckDuckGoSearch


                    @litellm.call("gpt-4o-mini", tools=[DuckDuckGoSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Azure AI"

                ```python hl_lines="2 5"
                    from mirascope.core import azure, prompt_template
                    from mirascope.tools import DuckDuckGoSearch


                    @azure.call("gpt-4o-mini", tools=[DuckDuckGoSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Vertex AI"

                ```python hl_lines="2 5"
                    from mirascope.core import vertex, prompt_template
                    from mirascope.tools import DuckDuckGoSearch


                    @vertex.call("gemini-1.5-flash", tools=[DuckDuckGoSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Bedrock"

                ```python hl_lines="2 5"
                    from mirascope.core import bedrock, prompt_template
                    from mirascope.tools import DuckDuckGoSearch


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[DuckDuckGoSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="2 5"
                    from mirascope.core import openai, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch


                    @openai.call("gpt-4o-mini", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Anthropic"

                ```python hl_lines="2 5"
                    from mirascope.core import anthropic, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Mistral"

                ```python hl_lines="2 5"
                    from mirascope.core import mistral, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch


                    @mistral.call("mistral-large-latest", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Gemini"

                ```python hl_lines="2 5"
                    from mirascope.core import gemini, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch


                    @gemini.call("gemini-1.5-flash", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Groq"

                ```python hl_lines="2 5"
                    from mirascope.core import groq, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch


                    @groq.call("llama-3.1-70b-versatile", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Cohere"

                ```python hl_lines="2 5"
                    from mirascope.core import cohere, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch


                    @cohere.call("command-r-plus", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "LiteLLM"

                ```python hl_lines="2 5"
                    from mirascope.core import litellm, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch


                    @litellm.call("gpt-4o-mini", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Azure AI"

                ```python hl_lines="2 5"
                    from mirascope.core import azure, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch


                    @azure.call("gpt-4o-mini", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Vertex AI"

                ```python hl_lines="2 5"
                    from mirascope.core import vertex, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch


                    @vertex.call("gemini-1.5-flash", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Bedrock"

                ```python hl_lines="2 5"
                    from mirascope.core import bedrock, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[DuckDuckGoSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```


    === "Custom Config"

        === "Shorthand"

            === "OpenAI"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import openai
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @openai.call("gpt-4o-mini", tools=[CustomSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Anthropic"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import anthropic
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[CustomSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Mistral"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import mistral
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @mistral.call("mistral-large-latest", tools=[CustomSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Gemini"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import gemini
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @gemini.call("gemini-1.5-flash", tools=[CustomSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Groq"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import groq
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @groq.call("llama-3.1-70b-versatile", tools=[CustomSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Cohere"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import cohere
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @cohere.call("command-r-plus", tools=[CustomSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "LiteLLM"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import litellm
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @litellm.call("gpt-4o-mini", tools=[CustomSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Azure AI"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import azure
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @azure.call("gpt-4o-mini", tools=[CustomSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Vertex AI"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import vertex
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @vertex.call("gemini-1.5-flash", tools=[CustomSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Bedrock"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import bedrock
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[CustomSearch])
                    def research(genre: str) -> str:
                        return f"Recommend a {genre} book and summarize the story"


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```

        === "Messages"

            === "OpenAI"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import openai, Messages
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @openai.call("gpt-4o-mini", tools=[CustomSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Anthropic"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import anthropic, Messages
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[CustomSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Mistral"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import mistral, Messages
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @mistral.call("mistral-large-latest", tools=[CustomSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Gemini"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import gemini, Messages
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @gemini.call("gemini-1.5-flash", tools=[CustomSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Groq"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import groq, Messages
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @groq.call("llama-3.1-70b-versatile", tools=[CustomSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Cohere"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import cohere, Messages
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @cohere.call("command-r-plus", tools=[CustomSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "LiteLLM"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import litellm, Messages
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @litellm.call("gpt-4o-mini", tools=[CustomSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Azure AI"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import azure, Messages
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @azure.call("gpt-4o-mini", tools=[CustomSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Vertex AI"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import vertex, Messages
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @vertex.call("gemini-1.5-flash", tools=[CustomSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Bedrock"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import bedrock, Messages
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[CustomSearch])
                    def research(genre: str) -> Messages.Type:
                        return Messages.User(f"Recommend a {genre} book and summarize the story")


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```

        === "String Template"

            === "OpenAI"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import openai, prompt_template
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @openai.call("gpt-4o-mini", tools=[CustomSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Anthropic"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import anthropic, prompt_template
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[CustomSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Mistral"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import mistral, prompt_template
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @mistral.call("mistral-large-latest", tools=[CustomSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Gemini"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import gemini, prompt_template
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @gemini.call("gemini-1.5-flash", tools=[CustomSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Groq"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import groq, prompt_template
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @groq.call("llama-3.1-70b-versatile", tools=[CustomSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Cohere"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import cohere, prompt_template
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @cohere.call("command-r-plus", tools=[CustomSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "LiteLLM"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import litellm, prompt_template
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @litellm.call("gpt-4o-mini", tools=[CustomSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Azure AI"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import azure, prompt_template
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @azure.call("gpt-4o-mini", tools=[CustomSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Vertex AI"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import vertex, prompt_template
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @vertex.call("gemini-1.5-flash", tools=[CustomSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Bedrock"

                ```python hl_lines="2 3 5 6 9"
                    from mirascope.core import bedrock, prompt_template
                    from mirascope.tools import DuckDuckGoSearch
                    from mirascope.tools import DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[CustomSearch])
                    @prompt_template("Recommend a {genre} book and summarize the story")
                    def research(genre: str): ...


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```

        === "BaseMessageParam"

            === "OpenAI"

                ```python hl_lines="2 4 5 8"
                    from mirascope.core import openai, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @openai.call("gpt-4o-mini", tools=[CustomSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Anthropic"

                ```python hl_lines="2 4 5 8"
                    from mirascope.core import anthropic, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @anthropic.call("claude-3-5-sonnet-20240620", tools=[CustomSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Mistral"

                ```python hl_lines="2 4 5 8"
                    from mirascope.core import mistral, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @mistral.call("mistral-large-latest", tools=[CustomSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Gemini"

                ```python hl_lines="2 4 5 8"
                    from mirascope.core import gemini, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @gemini.call("gemini-1.5-flash", tools=[CustomSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Groq"

                ```python hl_lines="2 4 5 8"
                    from mirascope.core import groq, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @groq.call("llama-3.1-70b-versatile", tools=[CustomSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Cohere"

                ```python hl_lines="2 4 5 8"
                    from mirascope.core import cohere, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @cohere.call("command-r-plus", tools=[CustomSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "LiteLLM"

                ```python hl_lines="2 4 5 8"
                    from mirascope.core import litellm, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @litellm.call("gpt-4o-mini", tools=[CustomSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Azure AI"

                ```python hl_lines="2 4 5 8"
                    from mirascope.core import azure, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @azure.call("gpt-4o-mini", tools=[CustomSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Vertex AI"

                ```python hl_lines="2 4 5 8"
                    from mirascope.core import vertex, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @vertex.call("gemini-1.5-flash", tools=[CustomSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```
            === "Bedrock"

                ```python hl_lines="2 4 5 8"
                    from mirascope.core import bedrock, BaseMessageParam
                    from mirascope.tools import DuckDuckGoSearch, DuckDuckGoSearchConfig

                    config = DuckDuckGoSearchConfig(max_results_per_query=5)
                    CustomSearch = DuckDuckGoSearch.from_config(config)


                    @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0", tools=[CustomSearch])
                    def research(genre: str) -> list[BaseMessageParam]:
                        return [
                            BaseMessageParam(
                                role="user", content=f"Recommend a {genre} book and summarize the story"
                            )
                        ]


                    response = research("fantasy")
                    if tool := response.tool:
                        print(tool.call())
                ```



### Pre-Made ToolKits

??? api "API Documentation"

    - [`mirascope.tools.system.FileSystemToolKit`](../api/tools/system/file_system.md)
    - [`mirascope.tools.system.DockerOperationToolKit`](../api/tools/system/docker_operation.md)

| ToolKit | Primary Use | Dependencies                                                      | Tools and Features | Characteristics |
|---------|-------------|-------------------------------------------------------------------|-------------------|-----------------|
| [`FileSystemToolKit`](../api/tools/system/file_system.md) | File System Operations | None                                                              |  ReadFile: File content reading<br> WriteFile: Content writing<br> ListDirectory: Directory listing<br> CreateDirectory: Directory creation<br> DeleteFile: File deletion |  Path traversal protection<br> File size limits<br> Extension validation<br> Robust error handling<br> Base directory isolation |
| [`DockerOperationToolKit`](../api/tools/system/docker_operation.md) | Code & Command Execution | [`docker`](https://pypi.org/project/docker/), [`docker engine`](https://docs.docker.com/engine/install/) |  ExecutePython: Python code execution with optional package installation<br> ExecuteShell: Shell command execution |  Docker container isolation<br> Memory limits<br> Network control<br> Security restrictions<br> Resource cleanup |

Example using FileSystemToolKit:

!!! mira ""


    === "Shorthand"

        === "OpenAI"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, openai
                from mirascope.tools import FileSystemToolKit


                @openai.call("gpt-4o-mini")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'."
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Anthropic"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, anthropic
                from mirascope.tools import FileSystemToolKit


                @anthropic.call("claude-3-5-sonnet-20240620")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'."
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Mistral"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, mistral
                from mirascope.tools import FileSystemToolKit


                @mistral.call("mistral-large-latest")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'."
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Gemini"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, gemini
                from mirascope.tools import FileSystemToolKit


                @gemini.call("gemini-1.5-flash")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'."
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Groq"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, groq
                from mirascope.tools import FileSystemToolKit


                @groq.call("llama-3.1-70b-versatile")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'."
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Cohere"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, cohere
                from mirascope.tools import FileSystemToolKit


                @cohere.call("command-r-plus")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'."
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "LiteLLM"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, litellm
                from mirascope.tools import FileSystemToolKit


                @litellm.call("gpt-4o-mini")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'."
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Azure AI"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, azure
                from mirascope.tools import FileSystemToolKit


                @azure.call("gpt-4o-mini")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'."
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Vertex AI"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, vertex
                from mirascope.tools import FileSystemToolKit


                @vertex.call("gemini-1.5-flash")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'."
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Bedrock"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, bedrock
                from mirascope.tools import FileSystemToolKit


                @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'."
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```

    === "Messages"

        === "OpenAI"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, openai
                from mirascope.tools import FileSystemToolKit


                @openai.call("gpt-4o-mini")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Anthropic"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, anthropic
                from mirascope.tools import FileSystemToolKit


                @anthropic.call("claude-3-5-sonnet-20240620")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Mistral"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, mistral
                from mirascope.tools import FileSystemToolKit


                @mistral.call("mistral-large-latest")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Gemini"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, gemini
                from mirascope.tools import FileSystemToolKit


                @gemini.call("gemini-1.5-flash")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Groq"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, groq
                from mirascope.tools import FileSystemToolKit


                @groq.call("llama-3.1-70b-versatile")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Cohere"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, cohere
                from mirascope.tools import FileSystemToolKit


                @cohere.call("command-r-plus")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "LiteLLM"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, litellm
                from mirascope.tools import FileSystemToolKit


                @litellm.call("gpt-4o-mini")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Azure AI"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, azure
                from mirascope.tools import FileSystemToolKit


                @azure.call("gpt-4o-mini")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Vertex AI"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, vertex
                from mirascope.tools import FileSystemToolKit


                @vertex.call("gemini-1.5-flash")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Bedrock"

            ```python hl_lines="4 9 16"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, Messages, bedrock
                from mirascope.tools import FileSystemToolKit


                @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            Messages.User(
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```

    === "String Template"

        === "OpenAI"

            ```python hl_lines="4 10 12"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, openai, prompt_template
                from mirascope.tools import FileSystemToolKit


                @openai.call("gpt-4o-mini")
                @prompt_template("Write a blog post about '{topic}' as a '{output_file.name}'.")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Anthropic"

            ```python hl_lines="4 10 12"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, anthropic, prompt_template
                from mirascope.tools import FileSystemToolKit


                @anthropic.call("claude-3-5-sonnet-20240620")
                @prompt_template("Write a blog post about '{topic}' as a '{output_file.name}'.")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Mistral"

            ```python hl_lines="4 10 12"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, mistral, prompt_template
                from mirascope.tools import FileSystemToolKit


                @mistral.call("mistral-large-latest")
                @prompt_template("Write a blog post about '{topic}' as a '{output_file.name}'.")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Gemini"

            ```python hl_lines="4 10 12"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, gemini, prompt_template
                from mirascope.tools import FileSystemToolKit


                @gemini.call("gemini-1.5-flash")
                @prompt_template("Write a blog post about '{topic}' as a '{output_file.name}'.")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Groq"

            ```python hl_lines="4 10 12"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, groq, prompt_template
                from mirascope.tools import FileSystemToolKit


                @groq.call("llama-3.1-70b-versatile")
                @prompt_template("Write a blog post about '{topic}' as a '{output_file.name}'.")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Cohere"

            ```python hl_lines="4 10 12"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, cohere, prompt_template
                from mirascope.tools import FileSystemToolKit


                @cohere.call("command-r-plus")
                @prompt_template("Write a blog post about '{topic}' as a '{output_file.name}'.")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "LiteLLM"

            ```python hl_lines="4 10 12"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, litellm, prompt_template
                from mirascope.tools import FileSystemToolKit


                @litellm.call("gpt-4o-mini")
                @prompt_template("Write a blog post about '{topic}' as a '{output_file.name}'.")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Azure AI"

            ```python hl_lines="4 10 12"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, azure, prompt_template
                from mirascope.tools import FileSystemToolKit


                @azure.call("gpt-4o-mini")
                @prompt_template("Write a blog post about '{topic}' as a '{output_file.name}'.")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Vertex AI"

            ```python hl_lines="4 10 12"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, prompt_template, vertex
                from mirascope.tools import FileSystemToolKit


                @vertex.call("gemini-1.5-flash")
                @prompt_template("Write a blog post about '{topic}' as a '{output_file.name}'.")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Bedrock"

            ```python hl_lines="4 10 12"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, bedrock, prompt_template
                from mirascope.tools import FileSystemToolKit


                @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0")
                @prompt_template("Write a blog post about '{topic}' as a '{output_file.name}'.")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```

    === "BaseMessageParam"

        === "OpenAI"

            ```python hl_lines="4 9 17"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, BaseMessageParam, openai
                from mirascope.tools import FileSystemToolKit


                @openai.call("gpt-4o-mini")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            BaseMessageParam(
                                role="user",
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Anthropic"

            ```python hl_lines="4 9 17"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, BaseMessageParam, anthropic
                from mirascope.tools import FileSystemToolKit


                @anthropic.call("claude-3-5-sonnet-20240620")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            BaseMessageParam(
                                role="user",
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Mistral"

            ```python hl_lines="4 9 17"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, BaseMessageParam, mistral
                from mirascope.tools import FileSystemToolKit


                @mistral.call("mistral-large-latest")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            BaseMessageParam(
                                role="user",
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Gemini"

            ```python hl_lines="4 9 17"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, BaseMessageParam, gemini
                from mirascope.tools import FileSystemToolKit


                @gemini.call("gemini-1.5-flash")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            BaseMessageParam(
                                role="user",
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Groq"

            ```python hl_lines="4 9 17"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, BaseMessageParam, groq
                from mirascope.tools import FileSystemToolKit


                @groq.call("llama-3.1-70b-versatile")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            BaseMessageParam(
                                role="user",
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Cohere"

            ```python hl_lines="4 9 17"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, BaseMessageParam, cohere
                from mirascope.tools import FileSystemToolKit


                @cohere.call("command-r-plus")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            BaseMessageParam(
                                role="user",
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "LiteLLM"

            ```python hl_lines="4 9 17"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, BaseMessageParam, litellm
                from mirascope.tools import FileSystemToolKit


                @litellm.call("gpt-4o-mini")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            BaseMessageParam(
                                role="user",
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Azure AI"

            ```python hl_lines="4 9 17"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, BaseMessageParam, azure
                from mirascope.tools import FileSystemToolKit


                @azure.call("gpt-4o-mini")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            BaseMessageParam(
                                role="user",
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Vertex AI"

            ```python hl_lines="4 9 17"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, BaseMessageParam, vertex
                from mirascope.tools import FileSystemToolKit


                @vertex.call("gemini-1.5-flash")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            BaseMessageParam(
                                role="user",
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```
        === "Bedrock"

            ```python hl_lines="4 9 17"
                from pathlib import Path

                from mirascope.core import BaseDynamicConfig, BaseMessageParam, bedrock
                from mirascope.tools import FileSystemToolKit


                @bedrock.call("anthropic.claude-3-haiku-20240307-v1:0")
                def write_blog_post(topic: str, output_file: Path) -> BaseDynamicConfig:
                    toolkit = FileSystemToolKit(base_directory=output_file.parent)
                    return {
                        "messages": [
                            BaseMessageParam(
                                role="user",
                                content=f"Write a blog post about '{topic}' as a '{output_file.name}'.",
                            )
                        ],
                        "tools": toolkit.create_tools(),
                    }


                response = write_blog_post("machine learning", Path("introduction.html"))
                if tool := response.tool:
                    result = tool.call()
                    print(result)
            ```


## Next Steps

Tools can significantly extend LLM capabilities, enabling more interactive and dynamic applications. We encourage you to explore and experiment with tools to enhance your projects and the find the best fit for your specific needs.

Mirascope hopes to provide a simple and clean interface that is both easy to learn and easy to use; however, we understand that LLM tools can be a difficult concept regardless of the supporting tooling.

[Join our community](https://join.slack.com/t/mirascope-community/shared_invite/zt-2ilqhvmki-FB6LWluInUCkkjYD3oSjNA) and ask us any questions you might have, we're here to help!

Next, we recommend learning about how to build [Agents](./agents.md) that take advantage of these tools.
